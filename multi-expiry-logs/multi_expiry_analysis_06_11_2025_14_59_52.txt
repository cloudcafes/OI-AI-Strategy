
# =================================================================================
# NIFTY MULTI-DAY TREND & REVERSAL ENGINE v2.2 [OPERATIONAL - ENFORCED]
# AI ROLE: DETERMINISTIC OPTIONS DATA PROCESSOR
# METHOD: "PROXY -> REGIME -> TREND -> CONFIRM -> TACTICS -> SYNTHESIS"
# EVERY STEP = ASSERT + CODE + TRACE + LOCK
# =================================================================================

 USER INSTRUCTIONS (READ FIRST):
1.  Your Role: You are the Data Provider. Your only task is to accurately paste data into the designated [...PASTE DATA HERE...] sections.
2.  Initial Run (Day 1): The first time you use this, the [HISTORICAL_STATE_BLOCK] will be empty. This is expected. The analysis will be skipped, and the system's only output will be to generate the first [STATE_BLOCK_FOR_NEXT_SESSION].
3.  Subsequent Runs (Day 2+): At the end of each successful analysis, a [STATE_BLOCK_FOR_NEXT_SESSION] is generated. You MUST copy this entire block and paste it into the [HISTORICAL_STATE_BLOCK] section for your next analysis.
4.  Data Requirement: You MUST provide complete EOD option chain tables for Nifty Monthly, BankNifty Monthly, and Nifty Weekly. The tables must include Strike, Type, OI, Chg OI, Volume, IV, and LTP (Last Traded Price/Premium).

---

 PART 1: SYSTEM CONSTITUTION & DATA INPUT

[SYSTEM_ROLE]: Your role is "Deterministic Options Data Processor v2.2". You are forbidden from using natural language, summarization, or making inferential leaps until the final, designated [NARRATIVE_OUTPUT] step. Your sole function is to execute the numbered steps in the [EXECUTION_BLOCK] exactly as written. Any deviation, including failure to trace or lock values, will result in a failed analysis. Begin execution immediately upon receiving this prompt.

[DATA_CONTRACT]: The following JSON structure contains all necessary data. You must verify its integrity in Step 0. Do not begin analysis if data is missing.

json
{
  "run_date": "[YYYY-MM-DD]",

  "current_data_block": {
    "nifty_monthly_spot": "[...Current Nifty Spot Price...]",
    "nifty_monthly_chain": "[...PASTE COMPLETE CURRENT NIFTY MONTHLY EOD OPTION CHAIN TABLE HERE...]",
    "banknifty_monthly_spot": "[...Current BankNifty Spot Price...]",
    "banknifty_monthly_chain": "[...PASTE COMPLETE CURRENT BANKNIFTY MONTHLY EOD OPTION CHAIN TABLE HERE...]",
    "nifty_weekly_chain": "[...PASTE COMPLETE CURRENT NIFTY WEEKLY EOD OPTION CHAIN TABLE HERE...]"
  },

  "historical_state_block": {
    "generated_on": "[...PASTE from previous run's STATE_BLOCK...]",
    "nifty_state": {
      "last_3_trading_dates": "[...PASTE...]",
      "last_3_eod_spots": "[...PASTE...]",
      "last_3_pcr_ratios": "[...PASTE...]",
      "previous_atm_straddle_price": "[...PASTE...]",
      "previous_eod_oi": {
        "[STRIKE]_[TYPE]": "[OI_VALUE]",
        "...": "..."
      }
    },
    "banknifty_state": {
      "last_3_pcr_ratios": "[...PASTE...]",
      "previous_eod_oi": {
        "[STRIKE]_[TYPE]": "[OI_VALUE]",
        "...": "..."
      }
    }
  }
}


---

 PART 2: THE EXECUTION BLOCK (DO NOT MODIFY)

STEP 0: DATA INTEGRITY & INITIALIZATION
- 0.1: ASSERT: current_data_block and all its sub-fields are present and not empty.
- 0.2: CHECK FOR INITIAL RUN: CODE: IF historical_state_block.generated_on is empty THEN IS_INITIAL_RUN = TRUE ELSE IS_INITIAL_RUN = FALSE.
- 0.3: TRACE: TRACE: IS_INITIAL_RUN = {IS_INITIAL_RUN}.
- 0.4: HALT FOR INITIALIZATION (IF APPLICABLE): IF IS_INITIAL_RUN == TRUE, SET ANALYSIS_STATUS = 'INITIALIZING'. Skip all steps from 1 to 6 and proceed directly to PART 3.
- 0.5: DATA GAP CHECK: days_since_last_run = run_date - historical_state_block.generated_on. If days_since_last_run > 4 (to account for weekends), set DATA_GAP_WARNING = TRUE else DATA_GAP_WARNING = FALSE.
- 0.6: TRACE & LOCK: TRACE: Data Integrity Checks Passed. Data Gap Warning: {DATA_GAP_WARNING}. [LOCKED: DATA_GAP_WARNING]

STEP 1: GENERATE CORE PROXIES (NIFTY MONTHLY)
- 1.1: Calculate Price Vector.
    - CODE: previous_spot = historical_state_block.nifty_state.last_3_eod_spots[-1].
    - CODE: PRICE_VECTOR = current_data_block.nifty_monthly_spot - previous_spot.
- 1.2: Calculate Premium-Volume Anchor (PVA).
    - CODE: For each strike in nifty_monthly_chain, pva_score = (Call_Volume * Call_LTP) + (Put_Volume * Put_LTP).
    - CODE: PVA_ANCHOR = strike with MAX(pva_score).
- 1.3: Calculate Volatility Vector.
    - CODE: Find ATM_STRIKE closest to nifty_monthly_spot.
    - CODE: current_atm_straddle_price = Premium(ATM_STRIKE, 'CALL') + Premium(ATM_STRIKE, 'PUT').
    - CODE: VOLATILITY_VECTOR = current_atm_straddle_price - historical_state_block.nifty_state.previous_atm_straddle_price.
- 1.4: TRACE & LOCK: TRACE: PRICE_VECTOR={PRICE_VECTOR:+.2f}, PVA_ANCHOR={PVA_ANCHOR}, VOLATILITY_VECTOR={VOLATILITY_VECTOR:+.2f}. [LOCKED: PRICE_VECTOR, PVA_ANCHOR, VOLATILITY_VECTOR, current_atm_straddle_price]

STEP 2: DETERMINE MARKET REGIME (NIFTY MONTHLY)
- 2.1: Find ATM IV. CODE: ATM_IV = IV of ATM_STRIKE Call.
- 2.2: Classify Regime.
    - CODE: IF ATM_IV < 13, REGIME = 'LOW_VOL'.
    - CODE: IF 13 <= ATM_IV <= 18, REGIME = 'NORMAL_VOL'.
    - CODE: IF ATM_IV > 18, REGIME = 'HIGH_VOL'.
- 2.3: TRACE & LOCK: TRACE: ATM_IV={ATM_IV:.2f} -> REGIME='{REGIME}'. [LOCKED: REGIME, ATM_IV]

STEP 3: PRIMARY TREND ANALYSIS (NIFTY MONTHLY)
- 3.1: Calculate Daily Change in OI.
    - CODE: For each strike, Chg_OI = current_OI - historical_state_block.nifty_state.previous_eod_oi.get(strike, 0).
    - CODE: total_put_chg_oi = SUM(max(0, Chg_OI) for all Puts).
    - CODE: total_call_chg_oi = SUM(max(0, Chg_OI) for all Calls).
- 3.2: Calculate Daily PCR. CODE: daily_pcr = total_put_chg_oi / total_call_chg_oi if total_call_chg_oi > 0 else 999.
- 3.3: Apply Regime-Aware Thresholds.
    - CODE: pcr_threshold_bullish = 1.15 if REGIME=='LOW_VOL' else 1.20 if REGIME=='NORMAL_VOL' else 1.50.
    - CODE: pcr_threshold_bearish = 0.85 if REGIME=='LOW_VOL' else 0.80 if REGIME=='NORMAL_VOL' else 0.70.
    - CODE: daily_bias = 'BULLISH' if daily_pcr > pcr_threshold_bullish else 'BEARISH' if daily_pcr < pcr_threshold_bearish else 'NEUTRAL'.
- 3.4: Confirm Trend (3-Day Rule).
    - CODE: all_pcrs = historical_state_block.nifty_state.last_3_pcr_ratios[1:] + [daily_pcr].
    - CODE: bullish_days = COUNT(p > pcr_threshold_bullish for p in all_pcrs).
    - CODE: bearish_days = COUNT(p < pcr_threshold_bearish for p in all_pcrs).
    - CODE: PRIMARY_TREND = 'BULLISH' if bullish_days >= 2 else 'BEARISH' if bearish_days >= 2 else 'NEUTRAL_CONSOLIDATION'.
- 3.5: TRACE & LOCK: TRACE: Daily_PCR={daily_pcr:.2f} -> Daily_Bias='{daily_bias}'. 3-Day Rule: {bullish_days} bullish, {bearish_days} bearish -> PRIMARY_TREND='{PRIMARY_TREND}'. [LOCKED: PRIMARY_TREND, daily_pcr, all_pcrs]

STEP 4: CONFIRMATION ANALYSIS (BANKNIFTY MONTHLY)
- 4.1: Repeat Step 3.1-3.3 for BankNifty data. CODE: Calculate banknifty_daily_pcr and banknifty_daily_bias.
- 4.2: Confirm Trend (3-Day Rule). CODE: banknifty_all_pcrs = historical_state_block.banknifty_state.last_3_pcr_ratios[1:] + [banknifty_daily_pcr]. Repeat 3.4 logic to determine BANKNIFTY_TREND.
- 4.3: Determine Alignment. CODE: ALIGNMENT = 'ALIGNED' if PRIMARY_TREND == BANKNIFTY_TREND else 'DIVERGENT' if PRIMARY_TREND != 'NEUTRAL_CONSOLIDATION' and BANKNIFTY_TREND != 'NEUTRAL_CONSOLIDATION' else 'NON_ALIGNED'.
- 4.4: TRACE & LOCK: TRACE: BankNifty Trend is '{BANKNIFTY_TREND}'. ALIGNMENT = '{ALIGNMENT}'. [LOCKED: BANKNIFTY_TREND, ALIGNMENT, banknifty_all_pcrs]

STEP 5: TACTICAL ANALYSIS (NIFTY WEEKLY)
- 5.1: Identify Hurdles. Use static OI from the nifty_weekly_chain.
    - CODE: WEEKLY_WALL = strike with MAX(Call_OI).
    - CODE: WEEKLY_FLOOR = strike with MAX(Put_OI).
- 5.2: TRACE & LOCK: TRACE: WEEKLY_WALL={WEEKLY_WALL}, WEEKLY_FLOOR={WEEKLY_FLOOR}. [LOCKED: WEEKLY_WALL, WEEKLY_FLOOR]

STEP 6: SCORING & SYNTHESIS
- 6.1: Initialize Score. Confidence_Score = 50.
- 6.2: Apply PVA Confirmation.
    - CODE: IF (PRIMARY_TREND=='BULLISH' and nifty_monthly_spot > PVA_ANCHOR) or (PRIMARY_TREND=='BEARISH' and nifty_monthly_spot < PVA_ANCHOR) THEN Confidence_Score += 15.
- 6.3: Apply Volatility Vector Context.
    - CODE: IF (PRICE_VECTOR > 0 and VOLATILITY_VECTOR < 0) or (PRICE_VECTOR < 0 and VOLATILITY_VECTOR > 0) THEN Confidence_Score += 10.
- 6.4: Apply Alignment Modifier.
    - CODE: IF ALIGNMENT == 'ALIGNED' THEN Confidence_Score += 20.
    - CODE: IF ALIGNMENT == 'DIVERGENT' THEN Confidence_Score -= 30.
- 6.5: Finalize Score. CODE: Confidence_Score = max(0, min(100, Confidence_Score)).
- 6.6: TRACE & LOCK: TRACE: Final Confidence Score = {Confidence_Score}. [LOCKED: CONFIDENCE_SCORE]

---

 PART 3: OUTPUT BLOCK

IF ANALYSIS_STATUS == 'INITIALIZING', display ONLY the [TRADING_IMPLICATION] and [STATE_BLOCK_FOR_NEXT_SESSION] sections. Otherwise, display all sections.

[LOCKED_VALUES_SUMMARY]
- DATA_GAP_WARNING: [Value]
- PRICE_VECTOR: [Value]
- PVA_ANCHOR: [Value]
- VOLATILITY_VECTOR: [Value]
- REGIME: [Value]
- ATM_IV: [Value]
- PRIMARY_TREND: [Value]
- BANKNIFTY_TREND: [Value]
- ALIGNMENT: [Value]
- WEEKLY_WALL: [Value]
- WEEKLY_FLOOR: [Value]
- CONFIDENCE_SCORE: [Value]

[ANALYSIS_NARRATIVE]
- Primary Trend: The confirmed multi-day trend for Nifty is [LOCKED: PRIMARY_TREND], based on a 3-day analysis of Monthly OI.
- Market Regime: The market is currently in a [LOCKED: REGIME] state, with an ATM IV of [LOCKED: ATM_IV].
- Cross-Index Confirmation: The broader market is [LOCKED: ALIGNMENT] with the primary trend, as BankNifty's trend is [LOCKED: BANKNIFTY_TREND].
- Daily Price Action: Today's price move was [LOCKED: PRICE_VECTOR:+.2f] points. The market's financial center of gravity (PVA) was the [LOCKED: PVA_ANCHOR] strike, with the spot closing {above/below} it.
- Volatility Context: The Volatility Vector was [LOCKED: VOLATILITY_VECTOR:+.2f], indicating {rising/falling} fear relative to the price move.
- Tactical Hurdles: For the short-term, expect immediate resistance at the [LOCKED: WEEKLY_WALL] and support at the [LOCKED: WEEKLY_FLOOR].

[TRADING_IMPLICATION]
- BIAS: IF IS_INITIAL_RUN, display 'AWAITING_DATA'. Else, display [LOCKED: PRIMARY_TREND].
- CONFIDENCE: IF IS_INITIAL_RUN, display 'N/A'. Else, display [LOCKED: CONFIDENCE_SCORE]/100.
- STRATEGY:
    - If BULLISH: Look for long opportunities, using the [LOCKED: WEEKLY_FLOOR] as a potential entry zone or stop-loss reference.
    - If BEARISH: Look for short opportunities, using the [LOCKED: WEEKLY_WALL] as a potential entry zone or stop-loss reference.
    - If NEUTRAL: Expect range-bound activity between [LOCKED: WEEKLY_FLOOR] and [LOCKED: WEEKLY_WALL]. Wait for a clear trend to re-emerge.
- WARNINGS: {IF IS_INITIAL_RUN, display "INITIALIZATION RUN COMPLETE. Please use the generated State Block for your next session."} {IF ALIGNMENT=='DIVERGENT', display "CRITICAL DIVERGENCE WITH BANKNIFTY. HIGH CAUTION ADVISED."} {IF DATA_GAP_WARNING==TRUE, display "DATA GAP DETECTED. OI CHANGES REFLECT MULTIPLE DAYS; MAGNITUDE MAY BE INFLATED."}

[STATE_BLOCK_FOR_NEXT_SESSION] (COPY THIS ENTIRE BLOCK FOR YOUR NEXT RUN)
json
{
  "generated_on": "[Value of 'run_date' from input]",
  "nifty_state": {
    "last_3_trading_dates": "[CODE: IF IS_INITIAL_RUN, create list with 3 copies of 'run_date'. Else, create list using historical_state_block.nifty_state.last_3_trading_dates[1:] + [run_date]]",
    "last_3_eod_spots": "[CODE: IF IS_INITIAL_RUN, create list with 3 copies of 'nifty_monthly_spot'. Else, create list using historical_state_block.nifty_state.last_3_eod_spots[1:] + [nifty_monthly_spot]]",
    "last_3_pcr_ratios": "[CODE: IF IS_INITIAL_RUN, create list [1.0, 1.0, 1.0]. Else, use value of [LOCKED: all_pcrs]]",
    "previous_atm_straddle_price": "[CODE: IF IS_INITIAL_RUN, calculate current_atm_straddle_price. Else, use value of [LOCKED: current_atm_straddle_price]]",
    "previous_eod_oi": {
      "...": "..." // Generate a new key-value map of 'strike_type': 'current_oi' from the nifty_monthly_chain
    }
  },
  "banknifty_state": {
    "last_3_pcr_ratios": "[CODE: IF IS_INITIAL_RUN, create list [1.0, 1.0, 1.0]. Else, use value of [LOCKED: banknifty_all_pcrs]]",
    "previous_eod_oi": {
      "...": "..." // Generate a new key-value map for BankNifty
    }
  }
}


---

 PART 4: MANDATORY COMPLIANCE AUDIT

[Instructions: Answer YES/NO to every check. A single NO invalidates the entire output.]
1.  Was the IS_INITIAL_RUN check performed and the main analysis correctly skipped if true? [YES/NO]
2.  Was PVA_ANCHOR used for confirmation instead of raw volume? [YES/NO]
3.  Was the REGIME correctly identified and used to select PCR thresholds? [YES/NO]
4.  Was the PRIMARY_TREND based on a 3-day rule using Monthly Nifty data ONLY? [YES/NO]
5.  Was the ALIGNMENT check with BankNifty performed and the score adjusted for divergence? [YES/NO]
6.  Was WEEKLY_WALL/FLOOR derived from static Weekly OI only? [YES/NO]
7.  Does the [ANALYSIS_NARRATIVE] contain ONLY values present in the [LOCKED_VALUES_SUMMARY] or input data? [YES/NO]
8.  Was the [STATE_BLOCK_FOR_NEXT_SESSION] correctly generated with EXPLICIT logic for both initial and subsequent runs? [YES/NO]

[AUDIT COMPLETE. END OF PROCESS.]

[HISTORICAL_STATE_BLOCK]
{
  "generated_on": "2025-11-04",
  "nifty_state": {
    "last_3_trading_dates": ["2025-11-04", "2025-11-04", "2025-11-04"],
    "last_3_eod_spots": [25598, 25598, 25598],
    "last_3_pcr_ratios": [1.0, 1.0, 1.0],
    "previous_atm_straddle_price": 0.2,
    "previous_eod_oi": {
      "22850_CALL": "28",
      "22850_PUT": "19819",
      "22900_CALL": "5",
      "22900_PUT": "8175",
      "22950_CALL": "10",
      "22950_PUT": "5736",
      "23000_CALL": "58",
      "23000_PUT": "11419",
      "23050_CALL": "27",
      "23050_PUT": "247",
      "23100_CALL": "7",
      "23100_PUT": "904",
      "23150_CALL": "10",
      "23150_PUT": "759",
      "23200_CALL": "2",
      "23200_PUT": "1251",
      "23250_CALL": "14",
      "23250_PUT": "570",
      "23300_CALL": "16",
      "23300_PUT": "7420",
      "23350_CALL": "12",
      "23350_PUT": "1118",
      "23400_CALL": "20",
      "23400_PUT": "8787",
      "23450_CALL": "15",
      "23450_PUT": "406",
      "23500_CALL": "61",
      "23500_PUT": "12713",
      "23550_CALL": "4",
      "23550_PUT": "767",
      "23600_CALL": "12",
      "23600_PUT": "2557",
      "23650_CALL": "3",
      "23650_PUT": "1222",
      "23700_CALL": "32",
      "23700_PUT": "2961",
      "23750_CALL": "16",
      "23750_PUT": "1554",
      "23800_CALL": "1",
      "23800_PUT": "3335",
      "23850_CALL": "3",
      "23850_PUT": "1233",
      "23900_CALL": "1",
      "23900_PUT": "1900",
      "23950_CALL": "8",
      "23950_PUT": "1370",
      "24000_CALL": "288",
      "24000_PUT": "37129",
      "24050_CALL": "37",
      "24050_PUT": "1163",
      "24100_CALL": "12",
      "24100_PUT": "2542",
      "24150_CALL": "4",
      "24150_PUT": "1730",
      "24200_CALL": "21",
      "24200_PUT": "2354",
      "24250_CALL": "3",
      "24250_PUT": "1543",
      "24300_CALL": "8",
      "24300_PUT": "2093",
      "24350_CALL": "2",
      "24350_PUT": "5088",
      "24400_CALL": "13",
      "24400_PUT": "7129",
      "24450_CALL": "2",
      "24450_PUT": "3331",
      "24500_CALL": "110",
      "24500_PUT": "36586",
      "24550_CALL": "12",
      "24550_PUT": "8196",
      "24600_CALL": "51",
      "24600_PUT": "12268",
      "24650_CALL": "11",
      "24650_PUT": "6692",
      "24700_CALL": "88",
      "24700_PUT": "26286",
      "24750_CALL": "34",
      "24750_PUT": "8752",
      "24800_CALL": "173",
      "24800_PUT": "33064",
      "24850_CALL": "57",
      "24850_PUT": "15948",
      "24900_CALL": "351",
      "24900_PUT": "43287",
      "24950_CALL": "95",
      "24950_PUT": "17534",
      "25000_CALL": "920",
      "25000_PUT": "124249",
      "25050_CALL": "50",
      "25050_PUT": "18187",
      "25100_CALL": "288",
      "25100_PUT": "50277",
      "25150_CALL": "236",
      "25150_PUT": "24924",
      "25200_CALL": "1267",
      "25200_PUT": "60437",
      "25250_CALL": "249",
      "25250_PUT": "30320",
      "25300_CALL": "1281",
      "25300_PUT": "70819",
      "25350_CALL": "823",
      "25350_PUT": "35909",
      "25400_CALL": "2428",
      "25400_PUT": "70594",
      "25450_CALL": "3536",
      "25450_PUT": "55175",
      "25500_CALL": "15369",
      "25500_PUT": "99527",
      "25550_CALL": "44416",
      "25550_PUT": "139668",
      "25600_CALL": "296925",
      "25600_PUT": "301878",
      "25650_CALL": "218899",
      "25650_PUT": "55236",
      "25700_CALL": "191815",
      "25700_PUT": "67727",
      "25750_CALL": "107027",
      "25750_PUT": "19291",
      "25800_CALL": "163127",
      "25800_PUT": "13559",
      "25850_CALL": "63330",
      "25850_PUT": "6121",
      "25900_CALL": "90784",
      "25900_PUT": "15428",
      "25950_CALL": "58422",
      "25950_PUT": "3902",
      "26000_CALL": "130460",
      "26000_PUT": "22846",
      "26050_CALL": "60159",
      "26050_PUT": "2889",
      "26100_CALL": "101414",
      "26100_PUT": "8696",
      "26150_CALL": "63255",
      "26150_PUT": "3169",
      "26200_CALL": "125335",
      "26200_PUT": "4361",
      "26250_CALL": "60960",
      "26250_PUT": "1789",
      "26300_CALL": "93026",
      "26300_PUT": "1707",
      "26350_CALL": "34187",
      "26350_PUT": "299",
      "26400_CALL": "70041",
      "26400_PUT": "752",
      "26450_CALL": "23711",
      "26450_PUT": "350",
      "26500_CALL": "107834",
      "26500_PUT": "1319",
      "26550_CALL": "20556",
      "26550_PUT": "289",
      "26600_CALL": "43214",
      "26600_PUT": "610",
      "26650_CALL": "13247",
      "26650_PUT": "225",
      "26700_CALL": "74675",
      "26700_PUT": "264",
      "26750_CALL": "24235",
      "26750_PUT": "107",
      "26800_CALL": "59110",
      "26800_PUT": "194",
      "26850_CALL": "18276",
      "26850_PUT": "97",
      "26900_CALL": "40461",
      "26900_PUT": "141",
      "26950_CALL": "13356",
      "26950_PUT": "29",
      "27000_CALL": "92901",
      "27000_PUT": "472",
      "27050_CALL": "12849",
      "27050_PUT": "19",
      "27100_CALL": "32688",
      "27100_PUT": "47",
      "27150_CALL": "13393",
      "27150_PUT": "3",
      "27200_CALL": "19650",
      "27200_PUT": "13",
      "27250_CALL": "5769",
      "27250_PUT": "6",
      "27300_CALL": "22350",
      "27300_PUT": "6",
      "27350_CALL": "9711",
      "27350_PUT": "5",
      "27400_CALL": "28212",
      "27400_PUT": "7",
      "27450_CALL": "1686",
      "27450_PUT": "5",
      "27500_CALL": "34529",
      "27500_PUT": "13",
      "27550_CALL": "1893",
      "27550_PUT": "3",
      "27600_CALL": "24208",
      "27600_PUT": "3",
      "27650_CALL": "1964",
      "27650_PUT": "4",
      "27700_CALL": "12021",
      "27700_PUT": "48",
      "27750_CALL": "3264",
      "27750_PUT": "0",
      "27800_CALL": "12426",
      "27800_PUT": "0"
    }
  },
  "banknifty_state": {
    "last_3_pcr_ratios": [1.0, 1.0, 1.0],
    "previous_eod_oi": {
      "46000_CALL": "8",
      "46000_PUT": "1069",
      "46500_CALL": "1",
      "46500_PUT": "669",
      "47000_CALL": "1",
      "47000_PUT": "1103",
      "47500_CALL": "0",
      "47500_PUT": "357",
      "48000_CALL": "2302",
      "48000_PUT": "2105",
      "48500_CALL": "21",
      "48500_PUT": "210",
      "48700_CALL": "0",
      "48700_PUT": "20",
      "48800_CALL": "0",
      "48800_PUT": "0",
      "48900_CALL": "0",
      "48900_PUT": "0",
      "49000_CALL": "529",
      "49000_PUT": "981",
      "49100_CALL": "0",
      "49100_PUT": "89",
      "49200_CALL": "0",
      "49200_PUT": "0",
      "49300_CALL": "0",
      "49300_PUT": "0",
      "49400_CALL": "0",
      "49400_PUT": "14",
      "49500_CALL": "10",
      "49500_PUT": "382",
      "49600_CALL": "1",
      "49600_PUT": "0",
      "49700_CALL": "1",
      "49700_PUT": "0",
      "49800_CALL": "1",
      "49800_PUT": "30",
      "49900_CALL": "2",
      "49900_PUT": "0",
      "50000_CALL": "2764",
      "50000_PUT": "5797",
      "50100_CALL": "1",
      "50100_PUT": "0",
      "50200_CALL": "2",
      "50200_PUT": "0",
      "50300_CALL": "4",
      "50300_PUT": "20",
      "50400_CALL": "2",
      "50400_PUT": "0",
      "50500_CALL": "30",
      "50500_PUT": "237",
      "50600_CALL": "2",
      "50600_PUT": "0",
      "50700_CALL": "3",
      "50700_PUT": "0",
      "50800_CALL": "2",
      "50800_PUT": "0",
      "50900_CALL": "8",
      "50900_PUT": "1",
      "51000_CALL": "635",
      "51000_PUT": "2882",
      "51100_CALL": "9",
      "51100_PUT": "0",
      "51200_CALL": "8",
      "51200_PUT": "0",
      "51300_CALL": "11",
      "51300_PUT": "0",
      "51400_CALL": "11",
      "51400_PUT": "0",
      "51500_CALL": "27",
      "51500_PUT": "431",
      "51600_CALL": "12",
      "51600_PUT": "2",
      "51700_CALL": "16",
      "51700_PUT": "4",
      "51800_CALL": "17",
      "51800_PUT": "0",
      "51900_CALL": "17",
      "51900_PUT": "2",
      "52000_CALL": "1536",
      "52000_PUT": "3175",
      "52100_CALL": "23",
      "52100_PUT": "21",
      "52200_CALL": "17",
      "52200_PUT": "0",
      "52300_CALL": "18",
      "52300_PUT": "0",
      "52400_CALL": "17",
      "52400_PUT": "0",
      "52500_CALL": "30",
      "52500_PUT": "1430",
      "52600_CALL": "22",
      "52600_PUT": "0",
      "52700_CALL": "19",
      "52700_PUT": "0",
      "52800_CALL": "18",
      "52800_PUT": "0",
      "52900_CALL": "17",
      "52900_PUT": "0",
      "53000_CALL": "659",
      "53000_PUT": "7730",
      "53100_CALL": "15",
      "53100_PUT": "87",
      "53200_CALL": "23",
      "53200_PUT": "74",
      "53300_CALL": "14",
      "53300_PUT": "47",
      "53400_CALL": "21",
      "53400_PUT": "60",
      "53500_CALL": "580",
      "53500_PUT": "7822",
      "53600_CALL": "20",
      "53600_PUT": "179",
      "53700_CALL": "21",
      "53700_PUT": "82",
      "53800_CALL": "43",
      "53800_PUT": "265",
      "53900_CALL": "21",
      "53900_PUT": "214",
      "54000_CALL": "1868",
      "54000_PUT": "12162",
      "54100_CALL": "22",
      "54100_PUT": "412",
      "54200_CALL": "111",
      "54200_PUT": "137",
      "54300_CALL": "28",
      "54300_PUT": "390",
      "54400_CALL": "139",
      "54400_PUT": "184",
      "54500_CALL": "560",
      "54500_PUT": "6137",
      "54600_CALL": "22",
      "54600_PUT": "560",
      "54700_CALL": "57",
      "54700_PUT": "480",
      "54800_CALL": "61",
      "54800_PUT": "402",
      "54900_CALL": "90",
      "54900_PUT": "486",
      "55000_CALL": "3305",
      "55000_PUT": "18308",
      "55100_CALL": "27",
      "55100_PUT": "492",
      "55200_CALL": "21",
      "55200_PUT": "1072",
      "55300_CALL": "32",
      "55300_PUT": "514",
      "55400_CALL": "185",
      "55400_PUT": "504",
      "55500_CALL": "2691",
      "55500_PUT": "8822",
      "55600_CALL": "63",
      "55600_PUT": "2047",
      "55700_CALL": "35",
      "55700_PUT": "1272",
      "55800_CALL": "60",
      "55800_PUT": "1390",
      "55900_CALL": "78",
      "55900_PUT": "1420",
      "56000_CALL": "4509",
      "56000_PUT": "20662",
      "56100_CALL": "42",
      "56100_PUT": "1463",
      "56200_CALL": "116",
      "56200_PUT": "1305",
      "56300_CALL": "85",
      "56300_PUT": "1485",
      "56400_CALL": "84",
      "56400_PUT": "1150",
      "56500_CALL": "2195",
      "56500_PUT": "12629",
      "56600_CALL": "142",
      "56600_PUT": "1749",
      "56700_CALL": "238",
      "56700_PUT": "1770",
      "56800_CALL": "235",
      "56800_PUT": "2402",
      "56900_CALL": "234",
      "56900_PUT": "1244",
      "57000_CALL": "27952",
      "57000_PUT": "36004",
      "57100_CALL": "260",
      "57100_PUT": "1896",
      "57200_CALL": "373",
      "57200_PUT": "2411",
      "57300_CALL": "228",
      "57300_PUT": "1605",
      "57400_CALL": "497",
      "57400_PUT": "2371",
      "57500_CALL": "4946",
      "57500_PUT": "14489",
      "57600_CALL": "1388",
      "57600_PUT": "2783",
      "57700_CALL": "1863",
      "57700_PUT": "3667",
      "57800_CALL": "3338",
      "57800_PUT": "5997",
      "57900_CALL": "4329",
      "57900_PUT": "4688",
      "58000_CALL": "36637",
      "58000_PUT": "49036",
      "58100_CALL": "6557",
      "58100_PUT": "3531",
      "58200_CALL": "10047",
      "58200_PUT": "5140",
      "58300_CALL": "6815",
      "58300_PUT": "4814",
      "58400_CALL": "5068",
      "58400_PUT": "2233",
      "58500_CALL": "27987",
      "58500_PUT": "14320",
      "58600_CALL": "4187",
      "58600_PUT": "1927",
      "58700_CALL": "3476",
      "58700_PUT": "1091",
      "58800_CALL": "4281",
      "58800_PUT": "2075",
      "58900_CALL": "3529",
      "58900_PUT": "1381",
      "59000_CALL": "26187",
      "59000_PUT": "7769",
      "59100_CALL": "2511",
      "59100_PUT": "1716",
      "59200_CALL": "2733",
      "59200_PUT": "257",
      "59300_CALL": "2352",
      "59300_PUT": "175",
      "59400_CALL": "1933",
      "59400_PUT": "108",
      "59500_CALL": "16112",
      "59500_PUT": "1200",
      "59600_CALL": "1533",
      "59600_PUT": "132",
      "59700_CALL": "2149",
      "59700_PUT": "129",
      "59800_CALL": "2189",
      "59800_PUT": "86",
      "59900_CALL": "1399",
      "59900_PUT": "59",
      "60000_CALL": "31575",
      "60000_PUT": "3411",
      "60100_CALL": "1480",
      "60100_PUT": "32",
      "60200_CALL": "2761",
      "60200_PUT": "21",
      "60300_CALL": "1494",
      "60300_PUT": "16",
      "60400_CALL": "1472",
      "60400_PUT": "39",
      "60500_CALL": "11993",
      "60500_PUT": "44",
      "60600_CALL": "821",
      "60600_PUT": "23",
      "60700_CALL": "905",
      "60700_PUT": "15",
      "60800_CALL": "907",
      "60800_PUT": "23",
      "60900_CALL": "646",
      "60900_PUT": "13",
      "61000_CALL": "16995",
      "61000_PUT": "677",
      "61100_CALL": "2769",
      "61100_PUT": "6",
      "61200_CALL": "1526",
      "61200_PUT": "11",
      "61300_CALL": "628",
      "61300_PUT": "7",
      "61400_CALL": "577",
      "61400_PUT": "7",
      "61500_CALL": "7497",
      "61500_PUT": "22",
      "61600_CALL": "435",
      "61600_PUT": "15",
      "61700_CALL": "320",
      "61700_PUT": "8",
      "61800_CALL": "518",
      "61800_PUT": "10",
      "61900_CALL": "530",
      "61900_PUT": "9",
      "62000_CALL": "19111",
      "62000_PUT": "1597",
      "62100_CALL": "950",
      "62100_PUT": "7",
      "62200_CALL": "501",
      "62200_PUT": "6",
      "62300_CALL": "211",
      "62300_PUT": "9",
      "62400_CALL": "444",
      "62400_PUT": "8",
      "62500_CALL": "6492",
      "62500_PUT": "14",
      "62600_CALL": "332",
      "62600_PUT": "13",
      "62700_CALL": "129",
      "62700_PUT": "9",
      "62800_CALL": "239",
      "62800_PUT": "6",
      "62900_CALL": "45",
      "62900_PUT": "9",
      "63000_CALL": "12001",
      "63000_PUT": "1383",
      "63100_CALL": "278",
      "63100_PUT": "0",
      "63200_CALL": "114",
      "63200_PUT": "0",
      "63300_CALL": "58",
      "63300_PUT": "0",
      "63400_CALL": "16",
      "63400_PUT": "0",
      "63500_CALL": "1686",
      "63500_PUT": "86",
      "64000_CALL": "4279",
      "64000_PUT": "96",
      "64500_CALL": "1351",
      "64500_PUT": "27",
      "65000_CALL": "6386",
      "65000_PUT": "999",
      "65500_CALL": "4644",
      "65500_PUT": "2",
      "66000_CALL": "3598",
      "66000_PUT": "0"
    }
  }
}
[HISTORICAL_STATE_BLOCK END]
=================================================================================


MULTI-EXPIRY COMPREHENSIVE ANALYSIS - FETCHED AT: 2025-11-06 14:59:52


NIFTY MULTI-EXPIRY COMPREHENSIVE ANALYSIS
================================================================================
Analysis Time: 2025-11-06 14:59:52
Nifty Spot: 25544
================================================================================

================================================================================
MULTI-EXPIRY SUMMARY ANALYSIS
================================================================================
ðŸ”´ CURRENT WEEK: 11-Nov-2025
   PCR: OI=0.69 | Volume=0.97 | Strikes: 91
   SENTIMENT: BEARISH

ðŸ”´ NEXT WEEK: 18-Nov-2025
   PCR: OI=0.58 | Volume=0.69 | Strikes: 89
   SENTIMENT: BEARISH

ðŸ”´ MONTHLY: 02-Dec-2025
   PCR: OI=0.66 | Volume=0.75 | Strikes: 80
   SENTIMENT: BEARISH

================================================================================

================================================================================
ðŸ”´ NIFTY CURRENT WEEK - Current: 25544, Expiry: 11-Nov-2025
PCR: OI=0.69, Volume=0.97, Strikes: 91
================================================================================
CALL OPTION                                       |   STRIKE   |PUT OPTION                                          |  CHG OI DIFF       
    Chg OI      Volume       LTP          OI       IV  |    Price    |      Chg OI      Volume       LTP          OI       IV  |             CE-PE
------------------------------------------------------------------------------------------------------------------------------------------------------
         0           0         0          28        0  |    23300    |       24781      137482       0.9       49825     29.5  |            -24781
         0           0         0           3        0  |    23350    |         743        6599       0.9        1031     29.1  |              -743
         0           0         0           7        0  |    23400    |        4833       46988       1.0        5682     28.6  |             -4833
         0           2    2089.2           8        0  |    23450    |         164        3983       1.1         278     28.1  |              -164
         1          76    2070.8         460     37.1  |    23500    |       10975      146923       1.1       40617     27.6  |            -10974
         0           4    2015.0           2     32.2  |    23550    |         620        7111       1.1         686     26.9  |              -620
         0           0         0           4        0  |    23600    |        3292       44522       1.1        4219     26.4  |             -3292
         0           0         0           2        0  |    23650    |         358        3260       1.1         474     25.8  |              -358
         0           0         0           4        0  |    23700    |        1512       25550       1.2        2115     25.2  |             -1512
         0           0         0           2        0  |    23750    |        1278       12816       1.2        1456     24.7  |             -1278
         0           2    1764.8          11     28.1  |    23800    |        3672       46779       1.2       10295     24.2  |             -3672
        -2           3    1717.2           6     29.2  |    23850    |         217        2955       1.3         477     23.7  |              -219
         0           1    1648.2           7        0  |    23900    |        2313       44102       1.4        3396     22.9  |             -2313
        -2           3    1617.7           5     27.9  |    23950    |         248        4845       1.4         570     22.5  |              -250
      -117         534    1575.5         803     27.8  |    24000    |       24926      223054       1.4       69253     22.0  |            -25043
        -1           7    1519.3           9     27.3  |    24050    |        1111       11792       1.5        1309     21.5  |             -1112
         1           9    1468.7          13     26.1  |    24100    |        4989       65212       1.6        6426     20.8  |             -4988
         0           2    1425.6          10     27.2  |    24150    |        1542       36839       1.6        1834     20.2  |             -1542
        -1           9    1369.2          34     24.8  |    24200    |        9693      129127       1.6       26007     19.6  |             -9694
         0           8    1319.4          23     24.0  |    24250    |        8205       63714       1.6        8915     19.0  |             -8205
... and 71 more strikes
======================================================================================================================================================

================================================================================
ðŸ”´ NIFTY NEXT WEEK - Current: 25544, Expiry: 18-Nov-2025
PCR: OI=0.58, Volume=0.69, Strikes: 89
================================================================================
CALL OPTION                                       |   STRIKE   |PUT OPTION                                          |  CHG OI DIFF       
    Chg OI      Volume       LTP          OI       IV  |    Price    |      Chg OI      Volume       LTP          OI       IV  |             CE-PE
------------------------------------------------------------------------------------------------------------------------------------------------------
         0           0         0           3        0  |    23400    |         684        1385       2.7         724     21.1  |              -684
         0           0         0           4        0  |    23450    |          38          97       2.7          46     20.5  |               -38
         0           0         0           5        0  |    23500    |        1219        4140       2.9        2937     20.3  |             -1219
         0           0         0           3        0  |    23550    |          49         119       3.6          49     20.4  |               -49
         0           0         0           5        0  |    23600    |         192         753       3.2         469     19.7  |              -192
         0           0         0           4        0  |    23650    |          27          67       3.6          36     19.5  |               -27
         0           0         0           5        0  |    23700    |         112         520       3.2         195     18.9  |              -112
         0           0         0           6        0  |    23750    |          41          63       3.5          52     18.5  |               -41
         0           0         0           6        0  |    23800    |         115         298       3.7         158     18.3  |              -115
         0           0         0           6        0  |    23850    |          69         172       3.8          88     17.9  |               -69
         0           1    1680.0           6        0  |    23900    |         161         621       4.0         217     17.5  |              -161
         0           0         0           5        0  |    23950    |          40          83       5.0          58     17.5  |               -40
         5          14    1615.0           9        0  |    24000    |        2205        9564       4.5        3965     16.9  |             -2200
         0           0         0           5        0  |    24050    |          15         133       4.5          59     16.3  |               -15
         0           0         0           8        0  |    24100    |         216        1541       4.8         339     16.1  |              -216
         0           0         0           5        0  |    24150    |          59         135       5.3          74     15.8  |               -59
         0           0         0           9        0  |    24200    |         258        1463       5.3         381     15.3  |              -258
         0           0         0           7        0  |    24250    |           0           0         0           0        0  |                 0
         0           0         0           9        0  |    24300    |         460        3221       6.0        1069     14.7  |              -460
         0           0         0           3        0  |    24350    |          14         421       6.1          85     14.4  |               -14
... and 69 more strikes
======================================================================================================================================================

================================================================================
ðŸ”´ NIFTY MONTHLY - Current: 25544, Expiry: 02-Dec-2025
PCR: OI=0.66, Volume=0.75, Strikes: 80
================================================================================
CALL OPTION                                       |   STRIKE   |PUT OPTION                                          |  CHG OI DIFF       
    Chg OI      Volume       LTP          OI       IV  |    Price    |      Chg OI      Volume       LTP          OI       IV  |             CE-PE
------------------------------------------------------------------------------------------------------------------------------------------------------
         0           0         0           0        0  |    23850    |           0           7      18.4           6     16.3  |                 0
         0           0         0           0        0  |    23900    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    23950    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    24000    |           8          34      15.9           8     14.8  |                -8
         0           0         0           0        0  |    24050    |          24          65      15.9          71     14.4  |               -24
         0           0         0           0        0  |    24100    |          52         151      19.5         197     14.6  |               -52
         0           0         0           0        0  |    24150    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    24200    |          20          56      23.0         108     14.3  |               -20
         0           0         0           0        0  |    24250    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    24300    |          68         191      25.3         142     13.8  |               -68
         0           0         0           0        0  |    24350    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    24400    |          22         107      29.1         108     13.6  |               -22
         0           0         0           0        0  |    24450    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    24500    |         117         484      35.4         370     13.3  |              -117
         0           0         0           0        0  |    24550    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    24600    |          62         308      41.5         117     13.1  |               -62
         0           0         0           0        0  |    24650    |          25          32      49.3          25     13.2  |               -25
         0           0         0           0        0  |    24700    |         160         348      49.0         234     12.7  |              -160
         0           0         0           0        0  |    24750    |          34          65      53.1          34     12.5  |               -34
         0           0         0           0        0  |    24800    |          70         244      58.0         135     12.4  |               -70
... and 60 more strikes
======================================================================================================================================================


================================================================================
ðŸ”´ BANKNIFTY MONTHLY - Current: 57618.75, Expiry: 25-Nov-2025
PCR: OI=0.78, Volume=1.12
================================================================================
CALL OPTION                                       |   STRIKE   |PUT OPTION                                          |  CHG OI DIFF       
    Chg OI      Volume       LTP          OI       IV  |    Price    |      Chg OI      Volume       LTP          OI       IV  |             CE-PE
------------------------------------------------------------------------------------------------------------------------------------------------------
         0           1   11900.0           8     52.4  |    46000    |         109         843       6.5        1178     38.7  |              -109
         0           0         0           1        0  |    46500    |          51         198       6.7         720     37.1  |               -51
         0           0         0           1        0  |    47000    |         -13         149       6.7        1090     35.5  |                13
         0           0         0           0        0  |    47500    |          80         187       7.0         437     34.1  |               -80
        -4           7    9950.0        2298     48.1  |    48000    |         153         575       7.0        2258     32.5  |              -157
         0           0         0          21        0  |    48500    |          -1         254       6.8         209     31.0  |                 1
         0           0         0           0        0  |    48700    |           2          63       8.2          22     30.3  |                -2
         0           0         0           0        0  |    48800    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    48900    |           0           0         0           0        0  |                 0
         0           0         0         529        0  |    49000    |         -41         305       7.0         940     29.4  |                41
         0           0         0           0        0  |    49100    |          -9          80       7.5          80     28.9  |                 9
         0           0         0           0        0  |    49200    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    49300    |           0           0         0           0        0  |                 0
         0           0         0           0        0  |    49400    |           0          10       7.4          14     28.1  |                 0
         0           0         0          10        0  |    49500    |         -12         206       7.0         370     27.8  |                12
... and 145 more strikes
======================================================================================================================================================


================================================================================
TOP 10 NIFTY STOCKS SUMMARY (Monthly Expiry)
================================================================================
SYMBOL          WEIGHT     PRICE      OI PCR     VOL PCR   
--------------------------------------------------------------------------------
RELIANCE        0.0924     1497       0.74       0.67      
HDFCBANK        0.0876     985.6      0.72       0.59      
BHARTIARTL      0.0421     2100       0.40       0.60      
TCS             0.0512     3013.6     0.65       0.46      
ICICIBANK       0.0763     1321       0.50       0.41      
SBIN            0.0398     961.45     0.73       0.80      
BAJFINANCE      0.0287     1043.7     0.74       0.58      
INFY            0.0589     1471.2     0.57       0.38      
ITC             0.0271     408.1      0.52       0.62      
LT              0.0263     3886.7     0.49       0.64      
================================================================================

================================================================================
END OF MULTI-EXPIRY ANALYSIS DATA
================================================================================
